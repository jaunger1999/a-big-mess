thingtype NightmareDemon
{
  basictype Monster

  spawnhealth 300
  doomednum 30012
  
  seesound    sgtsit
  attacksound sgtatk
  painchance  100
  painsound   dmpain
  deathsound  sgtdth
  speed       15
  radius      30.0
  height      56.0
  mass        400
  activesound dmact
  cflags      SOLID|SHOOTABLE|COUNTKILL|FOOTCLIP|SPACMONSTER|PASSMOBJ
  
  bloodtype.normal PersistentDoomBlood
  bloodtype.impact PersistentDoomBlood
  bloodtype.rip PersistentDoomBlood  
  bloodtype.crush DoomBloodSpray
  
  seesound "nightmaredemon/sight"
  attacksound "nightmaredemon/attack"
  painsound "nightmaredemon/pain"
  deathsound "nightmaredemon/death"
  activesound "nightmaredemon/active"
  obituary_melee "was crushed by a Nightmare Demon"
  acs_spawndata
  {
    num   155
    modes doom
  }

  states
  @"
  Spawn:
    NMDE AABB 10 A_Look
    goto Spawn
  See:
    NMDE AABBCCDD 2 A_Chase
    goto See
  Melee:
    NMDE E 6 A_FaceTarget
    NMDE F 7 A_FaceTarget
    NMDE G 8 A_SargAttack
    goto See
  Pain:
    NMDE H 2
    NMDE H 2 A_Pain
    goto See
  Death:
    NMDE I 8
    NMDE J 8 A_Scream
    NMDE K 4
    NMDE L 4 A_Fall
    NMDE M 4
    NMDE N -1
    stop
  Raise:
    NMDE NMLKJI 5
    goto See
  "@
}

sound "nightmaredemon/sight"   { lump "dsnmsit"; pitchvariance Doom; }
sound "nightmaredemon/attack"  { lump "dsnmatk"; pitchvariance Doom; }
sound "nightmaredemon/active"  { lump "dsnmact"; pitchvariance Doom; }
sound "nightmaredemon/pain"    { lump "dsnmpain"; pitchvariance Doom; }
sound "nightmaredemon/death"   { lump "dsnmdth"; pitchvariance Doom; }